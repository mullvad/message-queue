# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

tasks:
  - init: |
      sudo apt update
      go get

  - name: Redis Server
    init: sudo apt install redis-server -y
    command: redis-server
  
  - name: message-queue Server
  - command: go run . -redis-address=127.0.0.1:6379 -channels=main

  - name: Websocat WS Client
    init: |
      sudo wget https://github.com/vi/websocat/releases/download/v1.11.0/websocat.x86_64-unknown-linux-musl -O /bin/websocat
      sudo chmod +x /bin/websocat
    command: websocat ws://localhost:8080/channel/main --protocol message-queue-v1 

  

